montageDefine("b466558","iterator",{dependencies:["./shim-object","./generic-collection"],factory:function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);if(Array.isArray(e)||"string"==typeof e)return i.iterate(e);if(e=r(e),e instanceof i)return e;if(e.next)this.next=function(){return e.next()};else if(e.iterate){var t=e.iterate();this.next=function(){return t.next()}}else{if("[object Function]"!==r.prototype.toString.call(e))throw new TypeError("Can't iterate "+e);this.next=e}}n.exports=i;var r=e("./shim-object"),a=e("./generic-collection");i.prototype.forEach=a.prototype.forEach,i.prototype.map=a.prototype.map,i.prototype.filter=a.prototype.filter,i.prototype.every=a.prototype.every,i.prototype.some=a.prototype.some,i.prototype.any=a.prototype.any,i.prototype.all=a.prototype.all,i.prototype.min=a.prototype.min,i.prototype.max=a.prototype.max,i.prototype.sum=a.prototype.sum,i.prototype.average=a.prototype.average,i.prototype.flatten=a.prototype.flatten,i.prototype.zip=a.prototype.zip,i.prototype.enumerate=a.prototype.enumerate,i.prototype.sorted=a.prototype.sorted,i.prototype.group=a.prototype.group,i.prototype.reversed=a.prototype.reversed,i.prototype.toArray=a.prototype.toArray,i.prototype.toObject=a.prototype.toObject,i.prototype.iterator=a.prototype.iterator,i.prototype.__iterationObject=null,r.defineProperty(i.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:void 0})}}),i.prototype.constructClone=function(e){var t=[];return t.addEach(e),t},i.prototype.mapIterator=function(e){var t=i(this),n=arguments[1],a=0;if("[object Function]"!=r.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(t._iterationObject.done!==!0){var i=e.call(n,t.next().value,a++,t);t._iterationObject.value=i}return t._iterationObject})},i.prototype.filterIterator=function(e){var t=i(this),n=arguments[1],a=0;if("[object Function]"!=r.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){for(var i;;){if(i=t.next(),i.done===!0)return i;if(e.call(n,i.value,a++,t))return i}})},i.prototype.reduce=function(e){var t,n=i(this),a=arguments[1],s=arguments[2],o=0;if("[object Function]"!=r.prototype.toString.call(e))throw new TypeError;if(t=n.next(),t.done===!0){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(a=arguments.length>1?e.call(s,a,t.value,o,n):t.value,o++;;){if(t=n.next(),t.done===!0)return a;a=e.call(s,a,t.value,o,n),o++}},i.prototype.concat=function(){return i.concat(Array.prototype.concat.apply(this,arguments))},i.prototype.dropWhile=function(e){var t,n,a=i(this),s=arguments[1],o=!1,l=0;if("[object Function]"!=r.prototype.toString.call(e))throw new TypeError;for(;;){if(n=a.next(),n.done===!0)break;if(!e.call(s,n.value,l,a)){o=!0,t=n.value;break}l++}return o?a.constructor([t]).concat(a):a.constructor([])},i.prototype.takeWhile=function(e){var t=i(this),n=arguments[1],a=0;if("[object Function]"!=r.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(t._iterationObject.done!==!0){var i=t.next().value;e.call(n,i,a++,t)?t._iterationObject.value=i:(t._iterationObject.done=!0,t._iterationObject.value=void 0)}return t._iterationObject})},i.prototype.zipIterator=function(){return i.unzip(Array.prototype.concat.apply(this,arguments))},i.prototype.enumerateIterator=function(e){return i.count(e).zipIterator(this)},i.iterate=function(e){var t;return t=0,new i(function(){if("object"==typeof e)for(;!(t in e);){if(t>=e.length){this._iterationObject.done=!0,this._iterationObject.value=void 0;break}t+=1}else t>=e.length&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);return this._iterationObject.done||(this._iterationObject.value=e[t],t+=1),this._iterationObject})},i.cycle=function(e,t){var n;return 2>arguments.length&&(t=1/0),new i(function(){var r,a;return n&&(a=n()),n&&a.done!==!0||(t>0?(t--,r=i.iterate(e),a=(n=r.next.bind(r))()):(this._iterationObject.done=!0,a=this._iterationObject)),a})},i.concat=function(e){e=i(e);var t;return new i(function(){var n,r;return t&&(r=t()),r&&r.done!==!0?r:(r=e.next(),r.done===!1?(n=i(r.value),t=n.next.bind(n),t()):r)})},i.unzip=function(e){return e=i(e).map(i),0===e.length?new i([]):new i(function(){var t,n,i=e.map(function(e){return n=e.next(),n.done===!0&&(t=!0),n.value});return t?(this._iterationObject.done=!0,this._iterationObject.value=void 0):this._iterationObject.value=i,this._iterationObject})},i.zip=function(){return i.unzip(Array.prototype.slice.call(arguments))},i.chain=function(){return i.concat(Array.prototype.slice.call(arguments))},i.range=function(e,t,n){return 3>arguments.length&&(n=1),2>arguments.length&&(t=e,e=0),e=e||0,n=n||1,new i(function(){e>=t&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);var i=e;return e+=n,this._iterationObject.value=i,this._iterationObject})},i.count=function(e,t){return i.range(e,1/0,t)},i.repeat=function(e,t){return new i.range(t).mapIterator(function(){return e})}}});