montageDefine("9021793","ui/router",{dependencies:["montage","collections/map","core/auth-service"],factory:function(e,t){var n=e("montage").Montage,i=e("collections/map").Map,a=e("core/auth-service").shared;t.Router=n.specialize({routes:{value:[]},parts:{value:null},path:{value:null},"default":{value:null},constructor:{value:function(){var e=this;window.onpopstate=function(){e.updatePath()}}},updatePath:{value:function(e){this.path=e||window.location.hash.slice(1),"/landing"==this.path||"/login"==this.path||"/register"==this.path||a.isUserLoggedIn()?"/landing"!=this.path&&"/login"!=this.path&&"/register"!=this.path||!a.isUserLoggedIn()?a.isUserLoggedIn()&&(this.path="/home"):this.path="/home":this.path="/landing",window.location.hash="#"+this.path,this.parts=this.compare(this.path)}},compare:{value:function(e){for(var t=(e.replace(/^#?\//,"")||this["default"]).split("/"),n=0;this.routes.length>n;n++){var a=this.routes[n],o=a.split("/");if(o.length>=t.length){matches=[];for(var r=0;o.length>r;r++){var s=t[r]||"",l=o[r].split(":"),p=RegExp("^"+l[1]+"$").test(s);matches.push([l[0],p?s:!1])}if(matches.every(function(e){return e[1]!==!1}))return i(matches)}}return i()}}})}});